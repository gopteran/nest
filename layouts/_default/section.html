{{ define "main" }}
<!-- Section Header -->
<header class="text-center mb-16">
    <h1 class="text-4xl md:text-5xl font-bold bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] bg-clip-text text-transparent mb-6 leading-tight">{{ .Title }}</h1>
    <div class="w-24 h-1 bg-gradient-to-r from-[var(--color-sand)] to-[var(--color-growth)] mx-auto mb-8 rounded-full"></div>
    {{- if .Content }}
    <div class="prose prose-lg max-w-3xl mx-auto text-[var(--color-fg)]/70">{{ .Content }}</div>
    {{- end }}
</header>

<!-- Content Grid -->
{{- if .Pages }}
<section>
    <!-- Stats -->
    <div class="flex items-center justify-between mb-8">
        <div class="flex items-center gap-4">
            <h2 class="text-2xl font-bold text-[var(--color-primary)]">All {{ .Title | lower }}</h2>
            <span class="px-3 py-1 bg-[var(--color-secondary)]/10 text-[var(--color-secondary)] text-sm font-semibold rounded-full"> {{ len .Pages }} {{ if eq (len .Pages) 1 }}item{{ else }}items{{ end }} </span>
        </div>

        <!-- Filter/Sort (placeholder for future enhancement) -->
        <div class="hidden md:flex items-center gap-2 text-sm text-[var(--color-fg)]/60">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"></path>
            </svg>
            <span>{{ site.Params.ui.latestFirst }}</span>
        </div>
    </div>

    <!-- Articles Grid -->
    <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
        {{ range .Pages }}
        <article class="group relative">
            <!-- Card -->
            <div class="bg-[var(--color-bg)] rounded-[var(--radius-xl)] shadow-lg hover:shadow-2xl transition-all duration-500 p-8 border border-[var(--color-neutral-light)] hover:border-[var(--color-secondary)] transform hover:-translate-y-2 h-full flex flex-col">
                <!-- Meta info -->
                <div class="flex items-center justify-between mb-4">
                    {{- if .Date }} {{ $dateMachine := .Date | time.Format "2006-01-02T15:04:05-07:00" }} {{ $dateHuman := .Date | time.Format "Jan 2, 2006" }}
                    <time datetime="{{ $dateMachine }}" class="flex items-center gap-2 text-xs text-[var(--color-fg)]/60">
                        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                        </svg>
                        {{ $dateHuman }}
                    </time>
                    {{- end }} {{- if .ReadingTime }}
                    <span class="flex items-center gap-1 text-xs text-[var(--color-fg)]/60">
                        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        {{ .ReadingTime }}m
                    </span>
                    {{- end }}
                </div>

                <!-- Content -->
                <div class="flex-1">
                    <h3 class="text-xl font-bold text-[var(--color-primary)] mb-3 group-hover:text-[var(--color-secondary)] transition-colors line-clamp-2">{{ .LinkTitle }}</h3>
                    <p class="text-[var(--color-fg)]/70 leading-relaxed line-clamp-3 mb-4">{{ .Summary | default site.Params.ui.defaultSummary }}</p>
                </div>

                <!-- Tags -->
                {{- with .Params.tags }}
                <div class="flex flex-wrap gap-2 mb-4">
                    {{- range first 3 . }}
                    <span class="px-2 py-1 bg-[var(--color-sand)]/20 text-[var(--color-primary)] text-xs rounded-[var(--radius-base)] font-medium"> {{ . }} </span>
                    {{- end }} {{- if gt (len .) 3 }}
                    <span class="px-2 py-1 bg-[var(--color-neutral-light)] text-[var(--color-fg)]/60 text-xs rounded-[var(--radius-base)] font-medium"> +{{ sub (len .) 3 }} more </span>
                    {{- end }}
                </div>
                {{- end }}

                <!-- Read more link -->
                <a href="{{ .RelPermalink }}" class="inline-flex items-center gap-2 text-[var(--color-primary)] font-semibold hover:text-[var(--color-secondary)] transition-colors group/link">
                    <span>Read Article</span>
                    <svg class="w-4 h-4 transform group-hover/link:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                    </svg>
                </a>

                <!-- Hover effect overlay -->
                <div class="absolute inset-0 bg-gradient-to-br from-[var(--color-primary)]/5 to-[var(--color-secondary)]/5 rounded-[var(--radius-xl)] opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"></div>
            </div>
        </article>
        {{ end }}
    </div>

    <!-- Pagination placeholder -->
    <div class="mt-16 text-center">
        <div class="inline-flex items-center gap-2 px-6 py-3 bg-[var(--color-neutral-light)] rounded-[var(--radius-lg)] text-[var(--color-fg)]/60">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M12 5l7 7-7 7"></path>
            </svg>
            <span>End of {{ .Title | lower }}</span>
        </div>
    </div>
</section>
{{- else }}
<!-- Empty state -->
<div class="text-center py-16">
    <div class="w-16 h-16 bg-[var(--color-neutral-light)] rounded-full flex items-center justify-center mx-auto mb-6">
        <svg class="w-8 h-8 text-[var(--color-fg)]/40" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
        </svg>
    </div>
    <h3 class="text-xl font-semibold text-[var(--color-fg)]/70 mb-2">No content yet</h3>
    <p class="text-[var(--color-fg)]/60">Check back later for new {{ .Title | lower }}.</p>
</div>
{{- end }} {{ end }}
